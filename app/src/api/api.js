const a1_0x5d5fa5=a1_0x3c57;function a1_0x1311(){const _0x5d29f8=['1695832VBGJvL','status','4Lkgvzf','11579510CbKjMZ','1547AyISVQ','empty','Response\x20Data\x20:\x20','20717256gQUHlz','randomUserAgent','agent','30462qiowTp','replace','proxy','string','stringify','application/json','forEach','58171WALfec','...','origin','fetch','url','includes','112017icUAbs','error','11tuigZk','no-cache','generateHeaders','same-site','headers','isArray','body','setInvited','content-type','655990DzeuyL','message','?????','Request\x20Header\x20:\x20','2qRWkyN','substring','45QVxwLb','statusText','text','401','GET','something','info','Authorization','replaceSensitiveData','Error\x20:\x20','host','\x20:\x20'];a1_0x1311=function(){return _0x5d29f8;};return a1_0x1311();}(function(_0x585a21,_0x54e845){const _0xe91b3b=a1_0x3c57,_0x49beb9=_0x585a21();while(!![]){try{const _0x3fe27b=parseInt(_0xe91b3b(0x16a))/0x1*(parseInt(_0xe91b3b(0x17f))/0x2)+parseInt(_0xe91b3b(0x170))/0x3*(-parseInt(_0xe91b3b(0x18f))/0x4)+-parseInt(_0xe91b3b(0x17b))/0x5+parseInt(_0xe91b3b(0x163))/0x6*(-parseInt(_0xe91b3b(0x191))/0x7)+-parseInt(_0xe91b3b(0x18d))/0x8*(parseInt(_0xe91b3b(0x181))/0x9)+parseInt(_0xe91b3b(0x190))/0xa+-parseInt(_0xe91b3b(0x172))/0xb*(-parseInt(_0xe91b3b(0x160))/0xc);if(_0x3fe27b===_0x54e845)break;else _0x49beb9['push'](_0x49beb9['shift']());}catch(_0x26b1c2){_0x49beb9['push'](_0x49beb9['shift']());}}}(a1_0x1311,0x908ef));import{Helper}from'../utils/helper.js';function a1_0x3c57(_0x4855b2,_0x47d112){const _0x131187=a1_0x1311();return a1_0x3c57=function(_0x3c57b4,_0x1b2170){_0x3c57b4=_0x3c57b4-0x160;let _0x1fa84e=_0x131187[_0x3c57b4];return _0x1fa84e;},a1_0x3c57(_0x4855b2,_0x47d112);}import a1_0x388ee2 from'../utils/logger.js';import{HttpsProxyAgent}from'https-proxy-agent';export class API{constructor(_0x15e5a8,_0x483e59,_0x4cce92,_0xc073a0){const _0x1d57c7=a1_0x3c57;this[_0x1d57c7(0x16e)]=_0x15e5a8,this['host']=_0x483e59,this[_0x1d57c7(0x16c)]=_0x4cce92,this['ua']=Helper[_0x1d57c7(0x161)](),this[_0x1d57c7(0x186)]=_0xc073a0,this[_0x1d57c7(0x165)]=undefined;}[a1_0x5d5fa5(0x174)](_0x472b2c){const _0x3fe33e=a1_0x5d5fa5,_0x11622a={'Accept':_0x3fe33e(0x168),'Accept-Language':'en-US,en;q=0.9,id;q=0.8','Content-Type':_0x3fe33e(0x168),'Sec-Fetch-Dest':_0x3fe33e(0x192),'Sec-Fetch-Site':_0x3fe33e(0x175),'Sec-Fetch-Mode':'cors','Host':this[_0x3fe33e(0x18b)],'Origin':this[_0x3fe33e(0x16c)],'Pragma':_0x3fe33e(0x173)};return _0x472b2c&&(_0x11622a[_0x3fe33e(0x188)]='Bearer\x20'+_0x472b2c),_0x11622a;}[a1_0x5d5fa5(0x189)](_0x1c3ce6){const _0x88d314=a1_0x5d5fa5;if(typeof this[_0x88d314(0x186)]===_0x88d314(0x166)){const _0x5558bf=new RegExp(this[_0x88d314(0x186)],'g');return _0x1c3ce6[_0x88d314(0x164)](_0x5558bf,_0x88d314(0x17d));}else Array[_0x88d314(0x177)](this[_0x88d314(0x186)])&&this[_0x88d314(0x186)][_0x88d314(0x169)](_0x148e08=>{const _0x4c8063=_0x88d314,_0x28cc0f=new RegExp(_0x148e08,'g');_0x1c3ce6=_0x1c3ce6[_0x4c8063(0x164)](_0x28cc0f,_0x4c8063(0x17d));});return _0x1c3ce6;}async[a1_0x5d5fa5(0x16d)](_0x1b048f,_0x4ce776,_0x47acef,_0x223495={},_0x142b75={},_0x4c0089,_0x1ad24e=![]){const _0x1eeaf2=a1_0x5d5fa5,_0x33ec2d=_0x1ad24e?_0x1b048f:''+this[_0x1eeaf2(0x16e)]+_0x1b048f;try{const _0x4eb6e4={..._0x142b75,...this[_0x1eeaf2(0x174)](_0x47acef)},_0x58268e={'headers':_0x4eb6e4,'method':_0x4ce776,'referer':_0x4c0089};a1_0x388ee2[_0x1eeaf2(0x187)](_0x4ce776+_0x1eeaf2(0x18c)+this[_0x1eeaf2(0x189)](_0x33ec2d)+'\x20'+(this[_0x1eeaf2(0x165)]?this[_0x1eeaf2(0x165)]:''));const _0x4f09e1=_0x4eb6e4;for(let _0x1985c5 in _0x4f09e1){_0x4f09e1[_0x1985c5]=this['replaceSensitiveData'](_0x4f09e1[_0x1985c5]);}a1_0x388ee2[_0x1eeaf2(0x187)](_0x1eeaf2(0x17e)+JSON[_0x1eeaf2(0x167)](_0x4f09e1));if(_0x4ce776!==_0x1eeaf2(0x185)){_0x58268e[_0x1eeaf2(0x178)]=''+JSON[_0x1eeaf2(0x167)](_0x223495);const _0x14c0e=this[_0x1eeaf2(0x189)](_0x58268e['body']);a1_0x388ee2['info']('Request\x20Body\x20:\x20'+_0x14c0e);}this[_0x1eeaf2(0x165)]&&(_0x58268e[_0x1eeaf2(0x162)]=new HttpsProxyAgent(this[_0x1eeaf2(0x165)],{'rejectUnauthorized':![]}));const _0x17fe1c=await fetch(_0x33ec2d,_0x58268e);a1_0x388ee2[_0x1eeaf2(0x187)]('Response\x20:\x20'+_0x17fe1c[_0x1eeaf2(0x18e)]+'\x20'+_0x17fe1c['statusText']);if(_0x17fe1c['ok']||_0x17fe1c['status']==0x190||_0x17fe1c[_0x1eeaf2(0x18e)]==0x193){const _0x1b8c60=_0x17fe1c[_0x1eeaf2(0x176)]['get'](_0x1eeaf2(0x17a));let _0x3d9c55;_0x1b8c60&&_0x1b8c60[_0x1eeaf2(0x16f)](_0x1eeaf2(0x168))?(_0x3d9c55=await _0x17fe1c['json'](),_0x3d9c55[_0x1eeaf2(0x18e)]=_0x17fe1c[_0x1eeaf2(0x18e)]):_0x3d9c55={'status':_0x17fe1c[_0x1eeaf2(0x18e)],'message':await _0x17fe1c[_0x1eeaf2(0x183)]()};if(_0x17fe1c['ok'])_0x3d9c55['status']=0xc8;let _0x281435=JSON[_0x1eeaf2(0x167)](_0x3d9c55);return _0x281435=this['replaceSensitiveData'](_0x281435),_0x281435['length']>0xc8&&(_0x281435=_0x281435[_0x1eeaf2(0x180)](0x0,0xc8)+_0x1eeaf2(0x16b)),a1_0x388ee2[_0x1eeaf2(0x187)](_0x1eeaf2(0x193)+_0x281435),_0x3d9c55;}else throw new Error(_0x17fe1c[_0x1eeaf2(0x18e)]+'\x20-\x20'+_0x17fe1c[_0x1eeaf2(0x182)]);}catch(_0x542c8b){if(_0x33ec2d['includes'](_0x1eeaf2(0x179))&&_0x542c8b[_0x1eeaf2(0x17c)][_0x1eeaf2(0x16f)](_0x1eeaf2(0x184)))return{'status':0xc8};else{a1_0x388ee2[_0x1eeaf2(0x171)](_0x1eeaf2(0x18a)+_0x542c8b[_0x1eeaf2(0x17c)]);throw _0x542c8b;}}}}